const translations = {
  pt: {
    // Header
    "header.inicio":"InÃ­cio",
    "header.artigos.publicaÃ§Ãµes":"Artigos e PublicaÃ§Ãµes",
    "header.noticias":"Noticias",
    "header.membros":"Membros",
    "header.projetos":"Projetos",
    "header.sobre":"Sobre",
    "header.vagas":"Vagas",
    "header.fale.conosco":"Fale conosco",
    // Footer
    "footer.admin.acesso": "Acesso Ã  Ã¡rea administrativa:",
    "footer.admin.botao": "Acesso",
    "footer.email.titulo": "Nosso E-mail:",
    "footer.redes.titulo": "Nossas redes sociais:",
    "footer.localizacao.titulo": "Nossa localizaÃ§Ã£o:",
    "footer.localizacao.texto": "Av. dos Astronautas, 1758, Jardim da Granja\nSÃ£o JosÃ© dos Campos - SP",
    "footer.copyright": "Copyright Â© AgriRS ",
    // PÃ¡gina de Vagas
    "vagas.titulo_pagina": "AgriRS - Vagas",
    "vagas.banner.chamada": "Chamadas de Mestrado e Doutorado variam conforme edital do PGSER",
    "vagas.banner.titulo": "Mestrado e Doutorado em Sensoriamento Remoto aplicado Ã  Agricultura",
    "vagas.banner.descricao": "O AgriRS Lab pertence Ã  DivisÃ£o de Sensoriamento Remoto do INPE e desenvolve pesquisa e desenvolvimento em geoinformÃ¡tica e sensoriamento remoto para agricultura...",
    "vagas.banner.botao": "Ver inscriÃ§Ãµes",
    "vagas.oportunidades.titulo": "ðŸŒ± Oportunidades de Trabalho",
    "vagas.requisitos": "Requisitos:",
    "vagas.inscreva_se": "Inscreva-se",
    "vagas.nenhuma_vaga": "Nenhuma vaga aberta no momento. Volte em breve!",
    "vagas.inscricoes.titulo": "ðŸ“„ InscriÃ§Ãµes para Mestrado e Doutorado",
    "vagas.inscricoes.texto": "As inscriÃ§Ãµes sÃ£o centralizadas pelo Programa de PÃ³s GraduaÃ§Ã£o em Sensoriamento Remoto do INPE. Acesse o link para editais e orientaÃ§Ãµes.",
    "vagas.inscricoes.botao": "Abrir pÃ¡gina de inscriÃ§Ãµes e editais do PGSER",    
    "vagas.inscricoes.contato_texto": "Contato da secretaria do programa:",
    "vagas.linhas_pesquisa.titulo": "ðŸ“Š Linhas de pesquisa e temas",
    "vagas.linhas_pesquisa.card1_titulo": "Agricultura de precisÃ£o",
    "vagas.linhas_pesquisa.card1_texto": "Variabilidade espacial, sensores em campo e integraÃ§Ã£o com dados de mÃ¡quinas.",
    "vagas.linhas_pesquisa.card2_titulo": "Imagens orbitais e aÃ©reas",
    "vagas.linhas_pesquisa.card2_texto": "Uso de satÃ©lites e VANTs para monitoramento de culturas e fenologia.",
    "vagas.linhas_pesquisa.card3_titulo": "Processamento e modelagem",
    "vagas.linhas_pesquisa.card3_texto": "Processamento de imagens, sÃ©ries temporais e aprendizado de mÃ¡quina aplicado ao agro.",
    "vagas.linhas_pesquisa.detalhes": "As linhas especÃ­ficas do PGSER incluem Ã¡reas como sensoriamento remoto aplicado Ã  agricultura, processamento de imagens e geoprocessamento. Consulte a pÃ¡gina do programa para a lista completa e atualizada.",
    "vagas.como_ingressar.titulo": "ðŸ“¥ Como ingressar",
    "vagas.como_ingressar.passo1_titulo": "1. Leia o edital do PGSER",
    "vagas.como_ingressar.passo1_texto": "Verifique requisitos, cronograma e documentos. O PGSER do INPE publica os editais no site oficial.",
    "vagas.como_ingressar.passo2_titulo": "2. Prepare a inscriÃ§Ã£o",
    "vagas.como_ingressar.passo2_texto": "HistÃ³rico e diploma, CurrÃ­culo Lattes, Carta de motivaÃ§Ã£o, Cartas de recomendaÃ§Ã£o e Anteprojeto conforme edital.",
    "vagas.como_ingressar.passo3_titulo": "3. Submeta e acompanhe",
    "vagas.como_ingressar.passo3_texto": "Envie pelo sistema indicado no edital e acompanhe entrevistas ou provas. Resultados sÃ£o divulgados no site do PGSER.",
    // Mensagens do script.js
    "vagas.carregando": "Carregando vagas...",
    "vagas.erro": "âŒ Erro ao carregar vagas. Verifique a conexÃ£o com o servidor."
  },
  en: {
    // Header
    "header.inicio":"Start",
    "header.artigos.publicaÃ§Ãµes":"Articles and publications",
    "header.noticias":"News",
    "header.membros":"Members",
    "header.projetos":"Projects",
    "header.sobre":"About us",
    "header.vagas":"Vacancies",
    "header.fale.conosco":"Talk to us",
    // Footer
    "footer.admin.acesso": "Access to administrative area:",
    "footer.admin.botao": "Access",
    "footer.email.titulo": "Our E-mail:",
    "footer.redes.titulo": "Our social networks:",
    "footer.localizacao.titulo": "Our location:",
    "footer.localizacao.texto": "Av. dos Astronautas, 1758, Jardim da Granja\nSÃ£o JosÃ© dos Campos - SP",
    "footer.copyright": "Copyright Â© AgriRS ",
    // Jobs Page
    "vagas.titulo_pagina": "AgriRS - Vacancies",
    "vagas.banner.chamada": "Master's and PhD calls vary according to the PGSER announcement",
    "vagas.banner.titulo": "Master's and PhD in Remote Sensing applied to Agriculture",
    "vagas.banner.descricao": "The AgriRS Lab belongs to the Remote Sensing Division of INPE and develops research and development in geoinformatics and remote sensing for agriculture...",
    "vagas.banner.botao": "View applications",
    "vagas.oportunidades.titulo": "ðŸŒ± Job Opportunities",
    "vagas.requisitos": "Requirements:",
    "vagas.inscreva_se": "Apply now",
    "vagas.nenhuma_vaga": "No open positions at the moment. Check back soon!",
    "vagas.inscricoes.titulo": "ðŸ“„ Master's and PhD Applications",
    "vagas.inscricoes.texto": "Applications are centralized by the Graduate Program in Remote Sensing at INPE. Access the link for announcements and guidelines.",
    "vagas.inscricoes.botao": "Open PGSER applications and announcements page",    
    "vagas.inscricoes.contato_texto": "Program secretary contact:",
    "vagas.linhas_pesquisa.titulo": "ðŸ“Š Research lines and topics",
    "vagas.linhas_pesquisa.card1_titulo": "Precision agriculture",
    "vagas.linhas_pesquisa.card1_texto": "Spatial variability, in-field sensors, and integration with machine data.",
    "vagas.linhas_pesquisa.card2_titulo": "Orbital and aerial imagery",
    "vagas.linhas_pesquisa.card2_texto": "Use of satellites and UAVs for crop monitoring and phenology.",
    "vagas.linhas_pesquisa.card3_titulo": "Processing and modeling",
    "vagas.linhas_pesquisa.card3_texto": "Image processing, time series, and machine learning applied to agriculture.",
    "vagas.linhas_pesquisa.detalhes": "The specific lines of PGSER include areas such as remote sensing applied to agriculture, image processing, and geoprocessing. Consult the program's page for the complete and updated list.",
    "vagas.como_ingressar.titulo": "ðŸ“¥ How to apply",
    "vagas.como_ingressar.passo1_titulo": "1. Read the PGSER announcement",
    "vagas.como_ingressar.passo1_texto": "Check requirements, schedule, and documents. The INPE PGSER publishes the announcements on the official website.",
    "vagas.como_ingressar.passo2_titulo": "2. Prepare the application",
    "vagas.como_ingressar.passo2_texto": "Transcript and diploma, Lattes CV, Letter of intent, Recommendation letters, and Research pre-project as per the announcement.",
    "vagas.como_ingressar.passo3_titulo": "3. Submit and follow up",
    "vagas.como_ingressar.passo3_texto": "Submit through the system indicated in the announcement and follow up on interviews or tests. Results are published on the PGSER website.",
    // Messages from script.js
    "vagas.carregando": "Loading vacancies...",
    "vagas.erro": "âŒ Error loading vacancies. Check the server connection."
  }
};

function setPageLanguage(lang) {
  document.querySelectorAll("[data-i18n]").forEach(el => {
    const key = el.getAttribute("data-i18n");
    if (translations[lang] && translations[lang][key]) {
      const text = translations[lang][key];
      if (key === 'footer.copyright' && el.querySelector('#ano')) {
        el.firstChild.textContent = text;
      } else {
        el.textContent = text;
      }
    }
  });
}

window.setPageLanguage = setPageLanguage;

function applyInitialTranslation() {
  const saved = localStorage.getItem("lang") || "pt";
  setPageLanguage(saved);
}

document.addEventListener('headerLoaded', applyInitialTranslation);
document.addEventListener('footerLoaded', applyInitialTranslation);
window.addEventListener("DOMContentLoaded", applyInitialTranslation);